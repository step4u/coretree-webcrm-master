					<div>
						<div ui-grid="gridOptions" ui-grid-selection ui-grid-pagination class="grid" id="ctrlcustomers"></div>
					</div>
					<div class="form-group form-inline" style='margin-top: 10px;'>
						<input type='text' id='txtsearch' class='form-control' placeholder="전화번호 휴대전화" />
						<button type='button' for='txtsearch' class="btn btn-info btn-sm" id="btnSearch">검색</button>
						<button type="button" class="btn btn-warning btn-sm" style="float: right;" id="btnDel">삭제</button>
						<button type="button" class="btn btn-primary btn-sm" style="float: right; margin-right: 10px;" id="btnAdd">등록</button>
					</div>
					
<!-- Modal -->
<div class="modal fade" id="addCustomer" role="dialog">
	<div class="modal-dialog">
		<div class="modal-content">
			<div class="modal-header">
				<button type="button" class="close" data-dismiss="modal">&times;</button>
				<h4 class="modal-title">고객 등록</h4>
			</div>
			<div class="modal-body">
        		<!-- <p>This is a large modal.</p>  -->
        		<div class="row">
					<div class="form-group col-sm-4">
				    	<label for="depthorder">그룹</label>
				    	<select class="form-control" id="depthorder">
				    	</select>
				  	</div>
			  	</div>
			  	<div class="row">
					<div class="form-group col-sm-6">
				    	<label for="">이름</label>
				    	<input type="text" class="form-control" id="uname">
				  	</div>
				  	<div class="form-group col-sm-6">
				    	<label for="firm">회사</label>
				    	<input type="text" class="form-control" id="firm">
				  	</div>
			  	</div>
			  	<div class="row">
				  	<div class="form-group col-sm-6">
				    	<label for="tel">전화</label>
				    	<input type="text" class="form-control" id="tel">
				  	</div>
				  	<div class="form-group col-sm-6">
				    	<label for="cellular">휴대전화</label>
				    	<input type="text" class="form-control" id="cellular">
				  	</div>
			  	</div>
			  	<div class="row">
				  	<div class="form-group col-sm-6">
				    	<label for="extension">내선</label>
				    	<input type="text" class="form-control" id="extension">
			    	</div>
			    	<div class="form-group col-sm-6">
				    	<label for="email">E-mail</label>
				    	<input type="email" class="form-control" id="email">
				  	</div>
			  	</div>
      		</div>
      		<div class="modal-footer">
        		<button type="button" class="btn btn-primary" id="btnSave">저장</button>
        		<button type="button" class="btn btn-default" data-dismiss="modal">닫기</button>
      		</div>
    	</div>
  	</div>
</div>
  
<script>
	$("#btnSearch").click(function(){
    	var scope = angular.element($("#ctrlcustomers")).scope();
	    scope.$apply(function () {
	        scope.getPage($("#txtsearch").val().trim());
	    });
	});
	
	$("#btnAdd").click(function(){
		$('#addCustomer').modal();
	});
	
	$("#btnSave").click(function(){
		var obj = {
			idx: '',
			depthorder: $("#depthorder").val(),
			username: crmidentity.username,
			uname: $("#uname").val(),
			company: $("#company").val(),
			posi: $("#posi").val(),
			tel: $("#tel").val(),
			cellular: $("#cellular").val(),
			extension: $("#extension").val(),
			email: $("#email").val()
		};
		
		
		
		$.getJSON('/customer/add/' + obj, function(data){
			alert(data);
		});
	});
</script>